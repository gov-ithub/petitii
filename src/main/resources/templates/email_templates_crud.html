<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/main_head :: head"></head>

<body class="nav-md">
<div class="container body">
    <div class="main_container">
        <div class="col-md-3 left_col" th:replace="fragments/left::menu"></div>
        <div class="top_nav" th:replace="fragments/top::menu"></div>
        <div class="right_col" role="main">
            <form id="email-templates-form" class="form-horizontal form-label-left input_mask" th:object="${emailTemplate}"
                  th:action="@{/emailTemplate}" method="post">
                <div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="buttons pull-right">
                                <button id="top-submit" type="button" class="btn btn-success btn-sm"><i
                                        class="fa fa-paste"></i> <span>Salvează</span></button>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>Adauga/editeaza Email Template </h2>
                                <div class="clearfix"></div>
                            </div>

                            <input type="hidden" th:field="*{id}"/>

                            <div class="col-md-12 col-xs-12">
                                <div class="x_content">

                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">
                                            Nume
                                            <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <input type="text" placeholder="Numele"
                                                   class="form-control col-md-7 col-xs-12" required=""
                                                   th:field="*{name}"/>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Conținut
                                            <span class="required">*</span>
                                        </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <textarea class="resizable_textarea form-control"
                                                      placeholder="Content" id="content" required="" th:field="*{content}"
                                                       rows="20"></textarea>
                                        </div>
                                    </div>


                                </div>
                            </div>


                        </div>
                    </div>
                    <div class="clear"></div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="buttons pull-right">
                                <button id="bottom-submit" type="button" class="btn btn-success btn-sm"><i
                                        class="fa fa-paste"></i> <span>Salvează</span></button>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                </div>
            </form>
            <!-- /page content -->
        </div>
        <footer>
            <div class="pull-right">
                Gentelella - Bootstrap Admin Template by <a href="https://colorlib.com">Colorlib</a>
            </div>
            <div class="clearfix"></div>
        </footer>
    </div>
</div>
<div th:replace="fragments/main_head::includes"></div>

<script type="text/javascript">

    $(document).ready(function() {
         $("#content").wysihtml5();
         $('#email-templates-form').parsley();

        $('#bottom-submit,#top-submit').click(function(){
            $('#email-templates-form').submit();
        });
    });

    Parsley.on('field:validated', function(fieldInstance){
    if (fieldInstance.$element.is(":hidden")) {
            // hide the message wrapper
            fieldInstance._ui.$errorsWrapper.css('display', 'none');
            // set validation result to true
            fieldInstance.validationResult = true;
            return true;
        }
    });


</script>

<div th:replace="fragments/main_head::toast"></div>
</body>

</html>
